generator client {
  provider = "prisma-client-js"
}

generator jsonSchema {
  provider = "prisma-json-schema-generator"
}

datasource db {
  provider = "mysql"
  url      = env("DATABASE_URL")
}

// 系统配置
model SysConfig {
  /// 主键ID
  id        String    @id @default(cuid())
  /// 参数键
  key       String    @db.VarChar(255)
  /// 参数值
  value     String    @db.VarChar(255)
  /// 类型
  type      String?   @default("sys") @db.VarChar(255)
  /// 备注
  remark    String?   @db.VarChar(255)
  createdAt DateTime  @default(now()) @db.DateTime(3)
  createdBy String?   @db.VarChar(255)
  updatedAt DateTime? @updatedAt @db.DateTime(3)
  updatedBy String?   @db.VarChar(255)
  deleted   DateTime? @db.DateTime(3)
  deletedBy String?   @db.VarChar(255)
}

model User {
  id       String    @id @default(cuid())
  username String?   @db.VarChar(255)
  password String?   @db.VarChar(255)
  name     String?   @db.VarChar(255)
  deleted  DateTime? @db.DateTime(3)
}

model Role {
  id        String    @id @default(cuid())
  roleName  String?   @db.VarChar(255)
  roleDesc  String?   @db.VarChar(255)
  createdAt DateTime  @default(now()) @db.DateTime(3)
  createdBy String?   @db.VarChar(255)
  updatedAt DateTime? @updatedAt @db.DateTime(3)
  updatedBy String?   @db.VarChar(255)
  deleted   DateTime? @db.DateTime(3)
  deletedBy String?   @db.VarChar(255)
}

model BizLog {
  id           Int      @id @default(autoincrement())
  method       String?  @db.VarChar(255)
  path         String?  @db.VarChar(255)
  module       String?  @db.VarChar(255)
  methodName   String?  @db.VarChar(255)
  desc         String?  @db.VarChar(255)
  user         String?  @db.VarChar(255)
  clientId     String?  @db.VarChar(255)
  during       String?  @db.VarChar(255)
  startTime    BigInt   @db.BigInt()
  errorMessage String?  @default("") @db.VarChar(1000)
  createdAt    DateTime @default(now()) @db.DateTime(3)
}
